<div class="dashboard-page">
    <div class="dashboard-container">
        <div class="dashboard-header">
            <div class="header-main">
                <h1 class="gradient-text">Welcome back, {{ userName }}</h1>
                <p>Manage your professional growth and recruitment</p>
            </div>
            <div class="header-actions">
                <button class="btn-primary premium" routerLink="/post-job">
                    <span class="plus-icon">+</span>
                    Post New Job
                </button>
            </div>
        </div>

        <div class="loading-state" *ngIf="loading">
            <div class="stats-grid">
                <div class="stat-card skeleton shimmer" *ngFor="let i of [1,2,3,4]"></div>
            </div>
        </div>

        <div class="error-msg glass" *ngIf="error">
            <span class="error-icon">‚ö†Ô∏è</span>
            {{ error }}
        </div>

        <ng-container *ngIf="!loading">
            <!-- Stats Grid -->
            <div class="stats-grid">
                <div class="stat-card glass-hover" *ngFor="let stat of getStats()">
                    <div class="stat-header">
                        <span class="stat-icon">{{ stat.icon }}</span>
                        <span class="stat-label">{{ stat.label }}</span>
                    </div>
                    <div class="stat-value">{{ stat.value }}</div>
                </div>
            </div>

            <!-- Dashboard Grid -->
            <div class="dashboard-grid">
                <!-- My Job Postings -->
                <div class="dashboard-section glass">
                    <div class="section-header">
                        <h3>My Job Postings</h3>
                        <a routerLink="/jobs" class="view-link">View all jobs ‚Üí</a>
                    </div>
                    <div class="section-content">
                        <div class="posting-item glass-hover" *ngFor="let job of postedJobs">
                            <div class="posting-info">
                                <h4>{{ job.title }}</h4>
                                <div class="posting-meta">
                                    <span class="meta-tag">{{ job.applicants?.length || 0 }} Applicants</span>
                                    <span class="status-indicator" [attr.data-status]="job.status"></span>
                                    <span class="status-text">{{ job.status }}</span>
                                </div>
                            </div>
                            <button class="btn-secondary sm">Manage</button>
                        </div>
                        <div class="empty-state" *ngIf="postedJobs.length === 0">
                            <div class="empty-icon-sm">üìù</div>
                            <p>You haven't posted any jobs yet.</p>
                            <button class="btn-secondary">Get Started</button>
                        </div>
                    </div>
                </div>

                <!-- My Applications -->
                <div class="dashboard-section glass">
                    <div class="section-header">
                        <h3>Recent Applications</h3>
                    </div>
                    <div class="section-content">
                        <div class="posting-item glass-hover" *ngFor="let app of myApplications">
                            <div class="posting-info">
                                <h4>{{ app.title }}</h4>
                                <p class="company-sub">{{ app.companyName }}</p>
                                <div class="app-status">
                                    <span class="status-badge" [attr.data-status]="app.myApplicationStatus">
                                        {{ app.myApplicationStatus }}
                                    </span>
                                </div>
                            </div>
                            <button class="btn-secondary sm">Details</button>
                        </div>
                        <div class="empty-state" *ngIf="myApplications.length === 0">
                            <div class="empty-icon-sm">üíº</div>
                            <p>No active applications found.</p>
                            <a routerLink="/jobs" class="view-link">Browse opportunities</a>
                        </div>
                    </div>
                </div>
            </div>
        </ng-container>
    </div>
</div>