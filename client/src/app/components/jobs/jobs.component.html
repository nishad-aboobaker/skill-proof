<div class="page">
    <div class="container">

        <!-- Header -->
        <div class="jobs-header">
            <div>
                <h1>Browse Jobs</h1>
                <p *ngIf="!loading">{{ jobs.length }} opportunities available right now</p>
            </div>
        </div>

        <!-- Loading Skeletons -->
        <div class="jobs-grid" *ngIf="loading">
            <div class="job-card" *ngFor="let i of [1,2,3,4,5,6]">
                <div class="skeleton" style="height:20px; width:60%; margin-bottom:12px;"></div>
                <div class="skeleton" style="height:14px; width:40%; margin-bottom:20px;"></div>
                <div class="skeleton" style="height:14px; width:80%; margin-bottom:8px;"></div>
                <div class="skeleton" style="height:14px; width:65%;"></div>
            </div>
        </div>

        <!-- Jobs Grid -->
        <div class="jobs-grid" *ngIf="!loading && jobs.length > 0">
            <div class="job-card" *ngFor="let job of jobs">
                <div class="job-top">
                    <div class="company-icon">{{ job.companyName ? job.companyName.charAt(0) : 'üè¢' }}</div>
                    <div class="job-title-area">
                        <h3>{{ job.title }}</h3>
                        <span class="company-name">{{ job.companyName || 'Company' }}</span>
                    </div>
                </div>

                <div class="job-meta">
                    <span class="badge badge-muted">üìç {{ job.location }}</span>
                    <span class="badge badge-muted">üíº {{ job.type }}</span>
                    <span class="badge badge-indigo" *ngIf="job.remote">üåê Remote</span>
                </div>

                <p class="job-desc">{{ job.description }}</p>

                <div class="job-skills" *ngIf="job.skills && job.skills.length > 0">
                    <span class="skill-tag" *ngFor="let skill of job.skills.slice(0, 4)">{{ skill }}</span>
                </div>

                <div class="job-footer">
                    <span class="job-salary" *ngIf="job.salary">
                        {{ job.salary.currency || '$' }}{{ job.salary.min | number }} ‚Äì {{ job.salary.max | number }}
                    </span>
                    <button class="btn-primary" (click)="applyToJob(job._id)">Apply Now</button>
                </div>
            </div>
        </div>

        <!-- Empty state -->
        <div class="empty-state" *ngIf="!loading && jobs.length === 0">
            <div class="empty-icon">üîç</div>
            <h3>No jobs found</h3>
            <p>Check back later for new opportunities.</p>
            <button class="btn-secondary" (click)="fetchJobs()">Refresh</button>
        </div>

    </div>
</div>